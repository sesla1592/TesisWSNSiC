<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:hs="http://xmlns.jcp.org/jsf/html"
	xmlns:pt="http://xmlns.jcp.org/jsf/passthrough"
	xmlns:p="http://primefaces.org/ui" xmlns:b="http://bootsfaces.net/ui"
	xmlns:c="http://java.sun.com/jsp/jstl/core">
<h:head>
	<meta charset="utf-8" />
	<title>Apricot V1.2</title>
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<meta name="description" content="" />
	<meta name="author" content="" />
	
	<!-- Le styles -->
	<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/2.0.0/jquery.js"/>
	

	<link rel="stylesheet" href="assets/css/style.css" />
	<link rel="stylesheet" href="assets/css/loader-style.css" />
	<link rel="stylesheet" href="assets/css/bootstrap.css" />
	<link rel="stylesheet" href="assets/js/button/ladda/ladda.min.css" />
	
    
    <link href="assets/js/footable/css/footable.core.css?v=2-0-1" rel="stylesheet" type="text/css" />
    <link href="assets/js/footable/css/footable.standalone.css" rel="stylesheet" type="text/css" />
    <link href="assets/js/footable/css/footable-demos.css" rel="stylesheet" type="text/css" />

    <link rel="stylesheet" href="assets/js/dataTable/lib/jquery.dataTables/css/DT_bootstrap.css" />
    <link rel="stylesheet" href="assets/js/dataTable/css/datatables.responsive.css" />

	
	




	<!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
	<!--[if lt IE 9]>
        <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
        <![endif]-->
	<!-- Fav and touch icons -->
	<link rel="shortcut icon" href="assets/ico/minus.png" />
</h:head>

<body>
	<!-- Preloader -->
	<div id="preloader">
		<div id="status">&nbsp;</div>
	</div>
	<!-- TOP NAVBAR -->
	<nav role="navigation" class="navbar navbar-static-top">
	<div class="container-fluid">
		<!-- Brand and toggle get grouped for better mobile display -->
		<div class="navbar-header">
			<button data-target="#bs-example-navbar-collapse-1"
				data-toggle="collapse" class="navbar-toggle" type="button">
				<span class="entypo-menu"></span>
			</button>
			



			<div id="logo-mobile" class="visible-xs">
				<h1>
					WSNCLOUD<span></span>
				</h1>
			</div>

		</div>


		<!-- Collect the nav links, forms, and other content for toggling -->
		<div id="bs-example-navbar-collapse-1"
			class="collapse navbar-collapse">
			<ul class="nav navbar-nav">

				
			
				<li><a href="#"><i data-toggle="tooltip"
						data-placement="bottom" title="Help" style="font-size: 20px;"
						class="icon-help tooltitle"></i></a></li>

			</ul>
			<div id="nt-title-container"
				class="navbar-left running-text visible-lg">
				<ul class="date-top">
					<li class="entypo-calendar" style="margin-right: 5px"></li>
					<li id="Date"></li>


				</ul>

				<ul id="digital-clock" class="digital">
					<li class="entypo-clock" style="margin-right: 5px"></li>
					<li class="hour"></li>
					<li>:</li>
					<li class="min"></li>
					<li>:</li>
					<li class="sec"></li>
					<li class="meridiem"></li>
				</ul>
				<ul id="nt-title">
						<li><i class="wi-day-lightning"></i>&#160;&#160;Quito&#160;
							<b>85</b><i class="wi-fahrenheit"></i>&#160;; 15km/h</li>
							
						<li><i class="wi-day-lightning"></i>&#160;&#160;Guayas&#160;
							<b>85</b><i class="wi-fahrenheit"></i>&#160;; Tonight- 72 °F
							(22.2 °C)</li>

						<li><i class="wi-day-lightning"></i>&#160;&#160;Cuenca&#160;
							<b>85</b><i class="wi-fahrenheit"></i>&#160;; 15km/h</li>

						<li><i class="wi-day-lightning"></i>&#160;&#160;Loja&#160;
							<b>85</b><i class="wi-fahrenheit"></i>&#160;; 15km/h</li>

						<li><i class="wi-day-lightning"></i>&#160;&#160;Morona Santiago&#160; 
							<b>85</b><i class="wi-fahrenheit"></i>&#160;; 15km/h</li>

					</ul>
			</div>

			<ul style="margin-right: 0;" class="nav navbar-nav navbar-right">
				<li><a data-toggle="dropdown" class="dropdown-toggle" href="#">
						<img alt="" class="admin-pic img-circle"
						src="http://api.randomuser.me/portraits/thumb/men/10.jpg" />Hola,
						#{dashboardUser.user.nombre} #{dashboardUser.user.apellido} <b
						class="caret"></b>
				</a>
					<ul style="margin-top: 14px;" role="menu"
						class="dropdown-setting dropdown-menu">


						<li><a href="profile.xhtml"> <span class="entypo-user"></span>&#160;&#160;Perfil

						</a></li>

						<li><a href="#"> <span class="entypo-vcard"></span>&#160;&#160;Account
								Setting
						</a></li>
						<li><a href="#"> <span class="entypo-lifebuoy"></span>&#160;&#160;Help
						</a></li>
						<li class="divider"></li>

						<center>
							<h:form>
								<h:commandLink action="#{personaControlador.logout()}"
									value=" Cerrar sesion" class="entypo-logout"
									style="color:#8d8d8d;" />
							</h:form>
						</center>


					</ul></li>
				<li><a data-toggle="dropdown" class="dropdown-toggle" href="#">
						<span class="icon-gear"></span>&#160;&#160;Setting
				</a>
					<ul role="menu" class="dropdown-setting dropdown-menu">

						<li class="theme-bg">
							<div id="button-bg"></div>
							<div id="button-bg2"></div>
							<div id="button-bg3"></div>
							<div id="button-bg5"></div>
							<div id="button-bg6"></div>
							<div id="button-bg7"></div>
							<div id="button-bg8"></div>
							<div id="button-bg9"></div>
							<div id="button-bg10"></div>
							<div id="button-bg11"></div>
							<div id="button-bg12"></div>
							<div id="button-bg13"></div>
						</li>
					</ul></li>
				
			</ul>

		</div>
		<!-- /.navbar-collapse -->
	</div>
	<!-- /.container-fluid --> </nav>


	<!-- /END OF TOP NAVBAR -->

	<!-- SIDE MENU -->
	<div id="skin-select">
		<div id="logo">
			<h1>
				WSNCLOUD <span>ups</span>
			</h1>
		</div>

		<a id="toggle"> <span class="entypo-menu"></span>
		</a>
		<div class="dark">
			<form action="#">
				<span> <input type="text" name="search" value=""
					class="search rounded id_search" placeholder="Search Menu..." />
				</span>
			</form>
		</div>

		<div class="search-hover">
			<form id="demo-2">
				<input type="search" placeholder="Search Menu..." class="id_search" />
			</form>
		</div>


		<div class="search-hover">
			<form id="demo-2">
				<input type="search" placeholder="Search Menu..." class="id_search" />
			</form>
		</div>




		<div class="skin-part">
			<div id="tree-wrap">
				<div class="side-bar">
					<ul class="topnav menu-left-nest">
						<li><a href="#" style="border-left: 0px solid !important;"
							class="title-menu-left"> <span class="widget-menu"></span> <i
								data-toggle="tooltip" class="entypo-cog pull-right config-wrap"></i>

						</a></li>

						<li><a class="tooltip-tip ajax-load" href="#"
							title="Blog App"> <i class="icon-document-edit"></i> <span>Blog
									App</span>

						</a>
							<ul>
								<li><a class="tooltip-tip2 ajax-load" href="myBlog.xhtml"
									title="Crear Blog"><i class="entypo-doc-text"></i><span>Crear
									Blog</span></a></li>
								<li><a class="tooltip-tip2 ajax-load"
									href="listaBlogs.xhtml" title="Mis blogs"><i
										class="entypo-newspaper"></i><span>Mis Blogs</span></a></li>
							</ul></li>
						
						<li><a class="tooltip-tip ajax-load" href="nodosuser.xhtml"
								title="Nodos"> <i class="glyphicon glyphicon-search"></i> <span>Nodos</span>

							</a></li>
					</ul>

					<ul class="topnav menu-left-nest">
						<li><a href="#" style="border-left: 0px solid !important;"
							class="title-menu-left"> <span class="design-kit"></span> <i
								data-toggle="tooltip" class="entypo-cog pull-right config-wrap"></i>

						</a></li>
						 <li>
                            <a class="tooltip-tip " href="profile.xhtml" title="login">
                                <i class="icon-user"></i>
                                <span>Perfil</span>
                            </a>
                        </li>

						<li><a class="tooltip-tip ajax-load" href="dashboard.xhtml"
							title="Dashboard"> <i class="icon-window"></i> <span>Dashboard</span>

						</a></li>
						
						

					</ul>


					
				</div>
			</div>
		</div>
	</div>
	<!-- END OF SIDE MENU -->



	<!--  PAPER WRAP -->
	<div class="wrap-fluid">
		<div class="container-fluid paper-wrap bevel tlbr">





			<!-- CONTENT -->
			<!--TITLE -->
			<div class="row">
				<div id="paper-top">
					<div class="col-sm-3">
						<h2 class="tittle-content-header">
							<i class="icon-media-record"></i> <span>MIS NODOS </span>
						</h2>

					</div>

					<div class="col-sm-7">
						<div class="devider-vertical visible-lg"></div>
						<div class="tittle-middle-header">

							<div class="alert">
								<button type="button" class="close" data-dismiss="alert">×</button>
								<span class="tittle-alert entypo-info-circled"></span>  Bienvenido nuevamente,&nbsp;
                                <strong>#{dashboardUser.user.nombre},</strong>&nbsp;&nbsp;Empresa: <strong>#{dashboardUser.user.empresa.nombre},</strong>
                                Ciudad:  <strong>#{dashboardUser.user.empresa.ciudad} </strong>
							</div>


						</div>

					</div>
					
				</div>
			</div>
			<!--/ TITLE -->

			<!-- BREADCRUMB -->
			<ul id="breadcrumb">
				<li><span class="entypo-home"></span></li>
				<li><i class="fa fa-lg fa-angle-right"></i></li>
				<li><a href="dashboard.xhtml" title="Inicio">WSNSiC</a></li>
				<li><i class="fa fa-lg fa-angle-right"></i></li>
				<li><a href="nodosuser.xhtml" title="Sample page 1">Nodos Agregados</a></li>
				<li class="pull-right">
					<div class="input-group input-widget">

					</div>
				</li>
			</ul>

			<!-- END OF BREADCRUMB -->

			<div class="content-wrap">
				<div class="row">


					<div class="col-sm-12">
						<!-- BLANK PAGE-->

						<div class="nest" id="Blank_PageClose">
							<div class="title-alt">
								<h6>Busqueda de Nodos</h6>
								<div class="titleClose">
									<a class="gone" href="#Blank_PageClose"> <span
										class="entypo-cancel"></span>
									</a>
								</div>
								<div class="titleToggle">
									<a class="nav-toggle-alt" href="#Blank_Page_Content"> <span
										class="entypo-up-open"></span>
									</a>
								</div>

							</div>

							    <div class="content-wrap">
               						 <div class="row">


                    					<div class="col-sm-12">
							
							<div class="body-nest" id="Blank_Page_Content">

								<div class="body-nest" id="Footable">

								<!-- INICIO DEL FORMULARIO -->
										
										<h:form id="NodoListForm">
										
										
										 
                     
                <b:button value="Asociar nodo" onclick="$('.nodoSelect').modal('show')" icon="plus-sign" look="success"/>
                <br/>
                <br/>
                <p class="lead well">Al pulsar (Asociar nodo), encontrara un listado de todos los
										nodos disponibles en nuestra base de datos WSNCloud la cual podrá asociarse y obtener
										los datos correspondientes al mismo.</p>
                
                    <h:dataTable id="datalist" value="#{dashboardUser.ltsMyNodos}" var="item"
                    styleClass="table-striped footable-res footable metro-blue" rendered="#{not empty dashboardUser.ltsMyNodos}">
                                
                        <h:column>
                            <f:facet name="header">
                                <h:outputText value="Id"/>
                            </f:facet>
                            <h:outputText value="#{item.id}"/>
                        </h:column>
                        <h:column>
                            <f:facet name="header">
                                <h:outputText value="Nombre"/>
                            </f:facet>
                            <h:outputText value="#{item.nombre}"/>
                        </h:column>
                        <h:column>
                            <f:facet name="header">
                                <h:outputText value="Descripcion"/>
                            </f:facet>
                            <h:outputText value="#{item.descripcion}"/>
                        </h:column>
                        
                        <h:column>
                            <f:facet name="header">
                                <h:outputText value="Latitud"/>
                            </f:facet>
                            <h:outputText value="#{item.latitud}"/>
                        </h:column>
                        <h:column>
                            <f:facet name="header">
                                <h:outputText value="Logitud"/>
                            </f:facet>
                            <h:outputText value="#{item.longitud}"/>
                        </h:column>
                        
                         <h:column>
                            <f:facet name="header">
                                <h:outputText value="Sensores"/>
                            </f:facet>
                            <ui:repeat value="#{item.ltssensores}" var="sensores">
						        
						            <h:outputText value="- #{sensores.nombreCompleto}" />
						        		<br/>
						    </ui:repeat>
                        </h:column>
                        
                        <h:column>
                            <f:facet name="header">
                                <h:outputText value="Accion(Eliminar)"/>
                            </f:facet><center>
                            	<h:commandLink actionListener="#{dashboardUser.eliminarAsoNodo(item)}" 
                            	styleClass="glyphicon glyphicon-trash fa-2x" update="datalist"/></center>
					           
                        </h:column>
                    
                    </h:dataTable>
            
            </h:form>
</div>
</div>
</div>
</div>
</div>

		
								<!-- FIN DEL FORMULARIO -->
						    <div class="content-wrap">
               						 <div class="row">


                    	<div class="col-sm-12">
								
							<div class="body-nest" id="Blank_Page_Content">

								<div class="body-nest" id="Footable">
								
			<b:modal  header-class="Seleccionar Nodo" styleClass="nodoSelect" modal="true" closable="false" 
                 closeOnEscape="true" title="Nodos WSNCloud" >
  			
		
            <h:form>
            <h:outputText value="WSNCloud no posee mas nodos que mostrar!" rendered="#{empty dashboardUser.ltsAllNodos}" />
               
            		<h:dataTable id="Alllist" value="#{dashboardUser.ltsAllNodos}" var="item"
                                  styleClass="table-striped footable-res footable metro-blue"
                                  rendered="#{not empty dashboardUser.ltsAllNodos}">
                        <h:column>
                            <f:facet name="header">
                                <h:outputText value="Id"/>
                            </f:facet>
                            <h:outputText value="#{item.id}"/>
                        </h:column>
                        <h:column>
                            <f:facet name="header">
                                <h:outputText value="Nombre"/>
                            </f:facet>
                            <h:outputText value="#{item.nombre}"/>
                        </h:column>
                        <h:column>
                            <f:facet name="header">
                                <h:outputText value="Descripcion"/>
                            </f:facet>
                            <h:outputText value="#{item.descripcion}"/>
                        </h:column>
                        <h:column>
                            <f:facet name="header">
                                <h:outputText value="Sensores"/>
                            </f:facet>
                            <ui:repeat value="#{item.ltssensores}" var="sensores">
						        
						            <h:outputText value="- #{sensores.nombreCompleto}" />
						        		<br/>
						    </ui:repeat>
                        </h:column>
                        
                        <h:column>
                            <f:facet name="header">
                                <h:outputText value="Seleccionar"/>
                            </f:facet><center>
                            <h:commandLink title="SELECCIONAR" update="NodoListForm Alllist" actionListener="#{dashboardUser.asociarNodo(item)}" 
                            onclick="$('.nodoSelect').modal('hide');" styleClass="glyphicon glyphicon-check fa-2x"/></center>
                        </h:column>
                        
                    </h:dataTable>
            </h:form>
        
    </b:modal>
								
	</div>							
			</div>
			</div>
			</div>
							


							</div>
						</div>
					</div>
					<!-- END OF BLANK PAGE -->


				</div>



				<!-- /END OF CONTENT -->



				<!-- FOOTER -->
				<div class="footer-space"></div>
				<div id="footer">
					<div class="devider-footer-left"></div>
					<div class="time">
						<p id="spanDate"></p>
						<p id="clock"></p>
					</div>
					 <div class="copyright">WSNCloud, Universidad Politecnica Salesiana|
                        <span class="entypo-heart"></span>2019 </div>
                    <div class="devider-footer"></div>

				</div>
				<!-- / END OF FOOTER -->


			</div>
		</div>
		<!--  END OF PAPER WRAP -->

		<!-- RIGHT SLIDER CONTENT -->
		
	</div>

	<!-- END OF RIGHT SLIDER CONTENT-->


	<!-- MAIN EFFECT -->
	<script type="text/javascript" src="assets/js/preloader.js"></script>
	<script type="text/javascript" src="assets/js/bootstrap.js"></script>
	<script type="text/javascript" src="assets/js/app.js"></script>
	<script type="text/javascript" src="assets/js/load.js"></script>
	<script type="text/javascript" src="assets/js/main.js"></script>


</body>


<style type="text/css">
		/* Import the google web fonts you want to use */

		/* tangerine font */
		@import url(https://fonts.googleapis.com/css?family=Tangerine);

		/* bigshot one font */
		@import url(https://fonts.googleapis.com/css?family=Bigshot+One);

		/* Over the rainbow font */
		@import url(https://fonts.googleapis.com/css?family=Over+the+Rainbow);

		/* pacifico font */
		@import url(https://fonts.googleapis.com/css?family=Pacifico);

		/* Content styling */
		/* fonts for the text */
		@import
			url('https://fonts.googleapis.com/css?family=Merriweather:700|Roboto');

		p.a {
			font-family: 'Tangerine', serif;
			font-size: 48px;
			color: #C23B22;
		}

		p.b {
			font-family: 'Bigshot One', serif;
			font-size: 48px;
			color: #317873;
		}

		p.c {
			font-family: 'Over the Rainbow', serif;
			font-size: 48px;
			color: #0077BE;
		}

		p.d {
			font-family: 'Pacifico', serif;
			font-size: 48px;
			color: #C23B22;
		}
	</style>

</html>
